<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.6">
<title>The Global Command</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


/*
 * Theme specific overrides of the preceding (asciidoc.css) CSS.
 *
 */
body {
  font-family: Garamond, Georgia, serif;
  font-size: 17px;
  color: #3E4349;
  line-height: 1.3em;
}
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Garmond, Georgia, serif;
  font-weight: normal;
  border-bottom-width: 0;
  color: #3E4349;
}
div.title, caption.title { color: #596673; font-weight: bold; }
h1 { font-size: 240%; }
h2 { font-size: 180%; }
h3 { font-size: 150%; }
h4 { font-size: 130%; }
h5 { font-size: 115%; }
h6 { font-size: 100%; }
#header h1 { margin-top: 0; }
#toc {
  color: #444444;
  line-height: 1.5;
  padding-top: 1.5em;
}
#toctitle {
  font-size: 20px;
}
#toc a {
    border-bottom: 1px dotted #999999;
    color: #444444 !important;
    text-decoration: none !important;
}
#toc a:hover {
    border-bottom: 1px solid #6D4100;
    color: #6D4100 !important;
    text-decoration: none !important;
}
div.toclevel1 { margin-top: 0.2em; font-size: 16px; }
div.toclevel2 { margin-top: 0.15em; font-size: 14px; }
em, dt, td.hdlist1 { color: black; }
strong { color: #3E4349; }
a { color: #004B6B; text-decoration: none; border-bottom: 1px dotted #004B6B; }
a:visited { color: #615FA0; border-bottom: 1px dotted #615FA0; }
a:hover { color: #6D4100; border-bottom: 1px solid #6D4100; }
div.tableblock > table, table.tableblock { border: 3px solid #E8E8E8; }
th.tableblock, td.tableblock { border: 1px solid #E8E8E8; }
ul > li > * { color: #3E4349; }
pre, tt, .monospaced { font-family: Consolas,Menlo,'Deja Vu Sans Mono','Bitstream Vera Sans Mono',monospace; }
tt, .monospaced { font-size: 0.9em; color: black;
}
div.exampleblock > div.content, div.sidebarblock > div.content, div.listingblock > div.content { border-width: 0 0 0 3px; border-color: #E8E8E8; }
div.verseblock { border-left-width: 0; margin-left: 3em; }
div.quoteblock { border-left-width: 3px; margin-left: 0; margin-right: 0;}
div.admonitionblock td.content { border-left: 3px solid #E8E8E8; }
/*
  pygmentize filter
*/
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f4f4f4; }
.highlight .c { color: #008800; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #AA22FF; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #008800; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #008800 } /* Comment.Preproc */
.highlight .c1 { color: #008800; font-style: italic } /* Comment.Single */
.highlight .cs { color: #008800; font-weight: bold } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #AA22FF; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #AA22FF; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #AA22FF; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #AA22FF } /* Keyword.Pseudo */
.highlight .kr { color: #AA22FF; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #00BB00; font-weight: bold } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BB4444 } /* Literal.String */
.highlight .na { color: #BB4444 } /* Name.Attribute */
.highlight .nb { color: #AA22FF } /* Name.Builtin */
.highlight .nc { color: #0000FF } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #00A000 } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #B8860B } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BB4444 } /* Literal.String.Backtick */
.highlight .sc { color: #BB4444 } /* Literal.String.Char */
.highlight .sd { color: #BB4444; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BB4444 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BB4444 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BB4444 } /* Literal.String.Single */
.highlight .ss { color: #B8860B } /* Literal.String.Symbol */
.highlight .bp { color: #AA22FF } /* Name.Builtin.Pseudo */
.highlight .vc { color: #B8860B } /* Name.Variable.Class */
.highlight .vg { color: #B8860B } /* Name.Variable.Global */
.highlight .vi { color: #B8860B } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */

@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>The Global Command</h1>
<span id="author">Walter Alan Zintz</span><br>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_the_wondrous_global_command">The Wondrous Global Command</h2>
<div class="sectionbody">
<div class="paragraph"><p>If you&#8217;re surprised that I made no mention of <span class="monospaced">:global</span> in the
<a href="2_line_addresses.html#T3_good_write">preceding installment</a> of this
tutorial&#8201;&#8212;&#8201;well, <span class="monospaced">:global</span> is not an address. It&#8217;s actually an ex-mode
command, and it&#8217;s much more powerful than most users suspect.</p></div>
<div class="paragraph"><p>Even experienced users of ex mode usually think of <span class="monospaced">:global</span> along these
lines: &#8220;If you type :global and then a search pattern and then an ex-mode
command, all on one line, then the editor finds every line in the file that
contains that pattern and runs the command on every one of those lines&#8221;. That
is, typing:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^Chapter [1-9]/</span> delete
</pre></div></div></div>
<div class="paragraph"><p>is expected to find and delete every line in the file that starts with a
chapter heading. This example will do just that, and so will many other such
uses of the command. But spectacular failures will happen from time to time&#8201;&#8212;&#8201;typing:</p></div>
<div class="paragraph"><p><a id="T3_bad_write"></a></p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^Chapter [1-9]/</span> <span class="nb">write</span> <span class="p">&gt;&gt;</span> <span class="k">t</span>.of.contents
</pre></div></div></div>
<div class="paragraph"><p>definitely will not append each of the marked lines to a file named
&#8220;t.of.contents&#8221;, as moderately experienced users might expect. (It&#8217;s likely
to overflow your file system quota instead.)</p></div>
<div class="exampleblock">
<div class="title">Spot Quiz</div>
<div class="content">
<div class="paragraph"><p>Can you guess what is wrong with this global command?</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^Chapter [1-9]/</span> <span class="nb">write</span> <span class="p">&gt;&gt;</span> <span class="k">t</span>.of.contents
</pre></div></div></div>
<div class="paragraph"><p>What is the author&#8217;s mistake? You can <a href="#T3_good_write">jump ahead to the
answer</a> now if it&#8217;s really bugging you.</p></div>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_the_details_of_global_operations">The Details of Global Operations</h2>
<div class="sectionbody">
<div class="paragraph"><p>More important, misunderstanding the <span class="monospaced">:global</span> command keeps users from
exploiting more than a small fraction of that command&#8217;s power. But you don&#8217;t
have to live with the limitations of ignorance on this&#8201;&#8212;&#8201;here&#8217;s the full
story in plain terms:</p></div>
<div class="sect2">
<h3 id="_searching_where_you_tell_it_to_look">Searching where you tell it to look</h3>
<div class="paragraph"><p>As an ex-mode command, <span class="monospaced">:global</span> can be preceded by an address or pair of
addresses. Its default is to search the entire file, but if you start your
command as <span class="monospaced">:257, 382 global</span> then it will only search through lines 257
through 382 inclusive. Any ex-mode addresses can begin a <span class="monospaced">:global</span> command,
so starting with <span class="monospaced">:?^Exercises? +++, $ global</span> will restrict the pattern search
and line marking to a stretch beginning three lines past the last previous
line that starts with the string &#8220;Exercises&#8221;, and ending at the end of the
file.</p></div>
</div>
<div class="sect2">
<h3 id="_marking_either_hits_or_misses">Marking either hits or misses</h3>
<div class="paragraph"><p>Typing the command name as global or <span class="monospaced">:g</span> will definitely cause it to mark
every line in the search area that contains the pattern. But typing it as
<span class="monospaced">:global!</span> or <span class="monospaced">:g!</span> or <span class="monospaced">:vglobal</span> or just <span class="monospaced">:v</span> reverses the procedure&#8201;&#8212;&#8201;now it will only mark lines that do <strong>not</strong> contain the search string. So if
you are editing a copy of a log file of error messages, and only the lines
that begin with &#8220;Error 3b:&#8221; are of interest, you can eliminate all the
unwanted lines by typing:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global<span class="p">!</span> <span class="sr">/^Error 3b:/</span> delete
</pre></div></div></div>
<div class="paragraph"><p>or</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  vglobal <span class="sr">/^Error 3b:/</span> delete
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_choose_your_own_search_pattern_delimiter">Choose your own search pattern delimiter</h3>
<div class="paragraph"><p>Since this command always searches the file (or the section of it that you
select) from top to bottom, you can use almost any punctuation character to
mark the start and end of your search pattern. There&#8217;s no need to use <span class="monospaced">?</span> or
<span class="monospaced">/</span> characters to indicate a direction for the search. If you want to
eliminate lines that contain three consecutive slash marks, any of:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="p">+</span><span class="sr">//</span>/<span class="p">+</span> delete

  global ;<span class="sr">//</span>/; delete

  global ]<span class="sr">//</span>/] delete
</pre></div></div></div>
<div class="paragraph"><p>will be a simpler choice than using slashes as delimiters and backslashing all
three of the slashes you are searching for. (However, using <span class="monospaced">!</span> as your
delimiter is dangerous, because <span class="monospaced">:global</span> will mistake your delimiter for
the switch that tells it to find only lines that do not contain the search
pattern. If you do use <span class="monospaced">!</span> as your delimiter, put a space between it and the
<span class="monospaced">:global</span> command, as in <span class="monospaced">:global !///!</span>)</p></div>
<div class="paragraph"><p>Of course this applies only to the search pattern that goes right after the
<span class="monospaced">:global</span> command name, the one that says which lines to mark. If you use
any search patterns before the command name, to say which area of the file is
to be searched, then use <span class="monospaced">?</span> and <span class="monospaced">/</span> delimiters as usual.</p></div>
</div>
<div class="sect2">
<h3 id="_global_searches_that_seem_senseless_can_be_very_useful">Global searches that seem senseless can be very useful</h3>
<div class="paragraph"><p>At times it&#8217;s wise to have <span class="monospaced">:global</span> or <span class="monospaced">:vglobal</span> run a search over just
one line in a file. This is the basis for conditional execution of ex-mode
commands. As a simple example, you may find yourself editing files from
outside your organization that are sometimes (but not always) sent to you with
an extra, empty last line, as a spacer. You need to remove that last line, if
and only if it is empty. You could go to the end of each file and look, but
it&#8217;s easier to have the editor do the checking and (where necessary) the
deletion, so you type:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  $ global <span class="sr">/^$/</span> delete
</pre></div></div></div>
<div class="paragraph"><p>It can also be useful to have <span class="monospaced">:global</span> mark every line in the area of the
file you tell it to search! Our put-upon programmer, Hal (in the
<a href="1_editor_fundamentals.html">first installment</a> of this tutorial) used this
when he had to reverse the order of the lines in one file. His
<a href="1_editor_fundamentals.html#T1_move">command line</a>, which would look like
this if typed out in unabbreviated form:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^/</span> move <span class="m">0</span>
</pre></div></div></div>
<div class="paragraph"><p>begins by marking each line that has a start-of-line point, which makes every
line qualify. Next it goes to the first line and moves it up right after the
fictitious line zero&#8201;&#8212;&#8201;effectively placing it as the new first line of the
file. But then it moves the second line to the same place, pushing the former
first line down one position in the file. As it does the same with the third
line, the fourth line, etcetera, it&#8217;s changing the order of the lines to the
exact opposite of the order they were in at the start.</p></div>
</div>
<div class="sect2">
<h3 id="_one_global_can_run_many_commands">One :global can run many commands</h3>
<div class="paragraph"><p>You can put several commands on the line after a <span class="monospaced">:global</span> command and its
search pattern. After marking the appropriate lines, <span class="monospaced">:global</span> will then go
to each marked line and run all of the commands you&#8217;ve given it, in the order
you gave them. Just separate these commands with a vertical bar (<span class="monospaced">|</span>)
character. If you type:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^CHAPTER/</span> substitute <span class="sr">/HAPTER/</span>hapter/ <span class="p">|</span> copy $
</pre></div></div></div>
<div class="paragraph"><p>the editor will go to each line that starts with a chapter heading, change
&#8220;CHAPTER&#8221; to &#8220;Chapter&#8221;, and then copy the line (now beginning &#8220;Chapter&#8221;
instead of &#8220;CHAPTER&#8221;) to the end of the file. The order in which you put
those two commands is important&#8201;&#8212;&#8201;the substitute command must come first so
the subsequent copy command will copy the decapitalized version of the line,
not the original all-caps version.</p></div>
<div class="paragraph"><p>You&#8217;re not limited to just two commands in a <span class="monospaced">:global</span> command line; there
is no maximum on the number of commands there. The maximum string length for
the command list varies with the editor version you&#8217;re using, but I&#8217;ve never
encountered a limit of less then 256 characters. There are a few restrictions
on what the command list can contain, though:</p></div>
<div class="paragraph"><p>The global keyword and the following list of commands all must be on one line.
(That is, on one physical line, with no carriage returns in it. If that one
line is too long for your terminal&#8217;s screen width, the terminal may wrap it
around to occupy two or more lines on your screen, but this will not cause a
problem.)</p></div>
</div>
<div class="sect2">
<h3 id="_the_command_list_cannot_include_an_undo_or_another_global_command">The command list cannot include an undo or another :global command</h3>
<div class="paragraph"><p>If you include a command that escapes to the shell, it must be the last
command on the line. (Putting two or more shell-escape commands in one command
list will not work.) This makes it possible to use pipes (symbolized by the |
character) in your shell-escape command string, without having the editor
mistake the pipe symbol for the separator between two editor commands in your
<span class="monospaced">:global</span> command line.</p></div>
</div>
<div class="sect2">
<h3 id="_commands_don_8217_t_have_to_run_on_the_lines_global_marks">Commands don&#8217;t have to run on the lines :global marks</h3>
<div class="paragraph"><p>Using <span class="monospaced">:global</span> is essentially the same as moving to each marked line
manually, then typing in the command string while you are there. Just as you
no longer expect every command you type in to operate on the line you are on
when you type it, you don&#8217;t have to have the commands in a <span class="monospaced">:global</span> string
operate entirely on the marked lines. Here are three points to note regarding
this:</p></div>
<div class="paragraph"><p>Any command in a <span class="monospaced">:global</span> command line can take its own address or
addresses, just as it could if it were typed in as a separate command. So this
command string:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^XX/</span> <span class="p">-</span> copy $ <span class="p">|</span> <span class="sr">/ZZ$/</span> <span class="p">,</span> <span class="p">+</span><span class="m">5</span> delete
</pre></div></div></div>
<div class="paragraph"><p>is entirely legitimate. It goes to each line that begins with two capital X&#8217;s,
then copies the line just before that one to the end of the file, and finally
goes forward to the next line that ends with two capital Z&#8217;s and deletes that
line and the five lines that follow it.</p></div>
<div class="paragraph"><p><a id="T3_good_write"></a></p></div>
<div class="paragraph"><p>Even if you give no addresses for the commands in a <span class="monospaced">:global</span> string,
default addresses for those commands may make them operate on other than the
marked line. That&#8217;s the fault in <a href="#T3_bad_write">that <span class="monospaced">:global</span> command</a>
string in the introduction to this installment of my tutorial that tries to
write individual lines to another file. Because the default address for the
<span class="monospaced">:write</span> command is the entire file, this command will write the entire file
the user is editing to the end of the other file, once for every line that
<span class="monospaced">:global</span> has marked. The correct way to write individual lines is to type:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^Chapter [1-9]/</span> . <span class="nb">write</span> <span class="p">&gt;&gt;</span> <span class="k">t</span>.of.contents
</pre></div></div></div>
<div class="paragraph"><p>where the dot address in front of the <span class="monospaced">:write</span> command tells it to write
only the line it is on.</p></div>
<div class="paragraph"><p>But even if you take a command that has the current line as its default
address, and put it in the string following <span class="monospaced">:global</span> without giving it an
address of its own, it can still operate on different lines from the ones
<span class="monospaced">:global</span> has marked if it is not the first command in the string. The
reason: <em>each subsequent command in a <span class="monospaced">:global</span> takes as the current line
whatever line the command before it left as the current line</em>.</p></div>
<div class="paragraph"><p>In my earlier example about wanting to both change the capitalization of lines
beginning with &#8220;CHAPTER&#8221; and copy those lines to the end of the file, the
task was easy because the lines were to be copied in their changed state. But
what if the user wanted only the lines in the midst of the file decapitalized,
while the ones copied to the end of the file were to remain all-caps? It might
seem obvious to simply reverse the order of the two commands, so the copy
command was executed first, before the substitute command was called to change
the capitalization, like this:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^CHAPTER/</span> copy $ <span class="p">|</span> substitute <span class="sr">/HAPTER/</span>hapter/
</pre></div></div></div>
<div class="paragraph"><p>Surprisingly, that would produce the opposite of the effect that was intended.
That is, it would decapitalize the copied lines at the end of the file, but
leave the marked lines in the midst of the file all-caps. The reason? The copy
command leaves the last line of the copy text block, not the original text
block, as the current line. So after the copy command has run, the substitute
command, using the command&#8217;s default address (the current line) because it has
not been given an explicit address, would operate on the copy line rather than
the original.</p></div>
<div class="paragraph"><p>But there is one thing that no amount of current-line shifting can change.
Wherever in the file the command string may leave the current line, when the
commands have finished running, <span class="monospaced">:global</span> will go to the next marked line
without fail. The only way any of the commands in the string can prevent this
is by deleting the next marked line&#8201;&#8212;&#8201;in that case, <span class="monospaced">:global</span> will merely
go on to the next marked line that has not been deleted. And even this fact
has uses that might not be obvious.</p></div>
<div class="paragraph"><p>Let&#8217;s say you want to thin out the lines in a file, by deleting every second
line. You can do it by typing:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^/</span> <span class="p">+</span> delete
</pre></div></div></div>
<div class="paragraph"><p>This <span class="monospaced">:global</span> starts off by marking every line. When it goes to line 1, the
command it executes will delete line 2. The next undeleted marked line is line
3, where its command deletes line 4, and so on. Or if you want to delete
two-thirds of the lines in your file, type:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^/</span> <span class="p">+</span> <span class="p">,</span> <span class="p">++</span> delete
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_keeping_count">Keeping Count</h3>
<div class="paragraph"><p>At times it&#8217;s a good idea to follow <span class="monospaced">:global</span> with a string of commands that
have absolutely nothing to do with the lines that <span class="monospaced">:global</span> has marked. The
most common occasion for this comes when you need to repeat an ex-mode command
a certain number of times.</p></div>
<div class="paragraph"><p>At tradeshows I&#8217;m often invited to test a system right there on the show
floor. I can&#8217;t carry a 10,000-line test file along with me in every media and
format any system might require, so I type in a ten-line file on the spot and
expand it by telling the editor ten times to make a copy of the entire file
and put that copy at the end of the present file. (Each such copy doubles the
file&#8217;s size, so I wind up with 10,240 lines.)</p></div>
<div class="paragraph"><p>But that requires accurate counting. If I&#8217;m off by even one on the number of
times I type that command in, I get a half-size or double-size file that ruins
my test results. Instead of trying to count without an error, I let the editor
do the counting for me. After I&#8217;ve typed in the initial ten lines, I give one
<span class="monospaced">:global</span> command:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^/</span> % copy $
</pre></div></div></div>
<div class="paragraph"><p>This tells the editor to search the ten lines of the file, mark every line
that has a start-of-line (which means every line, of course), and then go to
each of those ten lines and run the subsequent command to make a whole-file
copy. This guarantees that the command will run exactly ten times.</p></div>
<div class="paragraph"><p>Not that this trick is limited to files that have exactly as many lines as the
number of times I want the command to be repeated. If I had typed in a
twenty-line file, I could copy it ten times by giving my <span class="monospaced">:global</span> as:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  <span class="m">1</span> <span class="p">,</span> <span class="m">10</span> global <span class="sr">/^/</span> % copy $
</pre></div></div></div>
</div>
<div class="sect2">
<h3 id="_moving_around_automatically">Moving Around Automatically</h3>
<div class="paragraph"><p>At times you may need to handle a series of editing problems in a file, where
the edits must be dealt with one by one, not with a <span class="monospaced">:global</span> editing
script. But moving to each spot where work needs to be done can be a very
tedious business. If there is a text pattern that identifies each place that
needs editing, or if you can write a script to insert such a pattern, as Hal
did at the start of this tutorial&#8217;s <a href="1_editor_fundamentals.html">first
installment</a>, then <span class="monospaced">:global</span> can move you around automatically.</p></div>
<div class="paragraph"><p>You may recall that Hal used a script to mark up the legacy source code,
putting each lint warning at the end of the source line to which it referred,
preceded by &#8220;XXX&#8221; to make the affected lines identifiable. Suppose that the
nefarious Vice President for Information Systems comes back to Hal to demand
that each warning be investigated, to see whether the code can be rewritten to
eliminate the warning.</p></div>
<div class="paragraph"><p>Should Hal just leaf through the code, searching for &#8220;XXX&#8221; patterns to guide
him to the trouble spots? Hal knows that with the spaghetti code he&#8217;s facing,
the actual problem may be a long way from the line lint has designated. In
travelling to the actual trouble spot he may have passed several &#8220;XXX&#8221;
patterns along the way, so searching for the next &#8220;XXX&#8221; in the file may
bring him to a site he&#8217;s already dealt with, or may miss a number of &#8220;XXX&#8221;
sites that he passed when he moved forward to get to the actual problem spot
on the previous fix. Besides, because he frequently does pattern searching
while fixing a problem, he can&#8217;t depend on a normal-mode <span class="monospaced">n</span> command to use
the &#8220;XXX&#8221; pattern he needs to find; he must type the pattern in afresh each
time.</p></div>
<div class="paragraph"><p>But Hal knows a way around all this&#8201;&#8212;&#8201;dropping back to ex mode (by typing a
capital letter <span class="monospaced">Q</span> from normal mode) and giving a simple <span class="monospaced">:global</span>
command:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/XXX/</span> visual <span class="p">|</span> <span class="nb">write</span>
</pre></div></div></div>
<div class="paragraph"><p>This command brings Hal to the first &#8220;XXX&#8221; line, where it puts him into
normal mode to do his editing. When the edit is finished, Hal simply types a
capital letter <span class="monospaced">Q</span> and the editor takes him to the second &#8220;XXX&#8221; line and
puts him into normal mode there, no matter how much moving around Hal did
during the first edit, and so on through the list of &#8220;XXX&#8221; lines. As
frosting on the cake, the write command automatically writes the changed file
to disk after each individual edit.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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
YII=">
</td>
<td class="content">Some people have replaced the seemingly useless <span class="monospaced">Q</span> key with the map
<span class="monospaced">:nnoremap Q gqap</span> which reformats a paragraph of text. If your <span class="monospaced">Q</span> key
doesn&#8217;t do as Hal&#8217;s does above, you might need to <span class="monospaced">:nunmap Q</span> first.</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_now_you_give_it_a_try">Now You Give it a Try</h2>
<div class="sectionbody">
<div class="paragraph"><p>Here are a few exercises you can try to solve, before you start using advanced
<span class="monospaced">:global</span> tactics in your own editing. To keep things rolling I&#8217;ve provided
at least one solution to each exercise, and also a hint on the last (and
toughest) problem.</p></div>
<div class="paragraph"><p><a id="E3.1"></a></p></div>
<div class="paragraph"><div class="title">Exercise 3.1 : Copy and Decapitalize</div><p>Let&#8217;s think back to the user who wanted to find each line in the file that
begins with &#8220;CHAPTER&#8221;, then copy each such line to the end of the file just as
it is, and finally change the start of each original line (in mid-file) from
"CHAPTER" to "Chapter" while leaving the copied lines (at the end of the file)
beginning "CHAPTER".</p></div>
<div class="paragraph"><p>We&#8217;ve already learned that this cannot be done with either of:</p></div>
<div class="listingblock">
<div class="content"><div class="highlight"><pre>  global <span class="sr">/^CHAPTER/</span> substitute <span class="sr">/APTER/</span>apter/ <span class="p">|</span> copy $

  global <span class="sr">/^CHAPTER/</span> copy $ <span class="p">|</span> substitute <span class="sr">/APTER/</span>apter/
</pre></div></div></div>
<div class="paragraph"><p>What <span class="monospaced">:global</span> command (or commands) would it take to do what&#8217;s desired
here?  Finding a solution to this is not difficult when there are so many
workable ones.</p></div>
<div class="paragraph"><p><a href="3_global_command_solutions.html#S3.1">Solution 3.1</a></p></div>
<div class="paragraph"><p><a id="E3.2"></a></p></div>
<div class="paragraph"><div class="title">Exercise 3.2 : A Precise String Length</div><p>An old friend who does some pretty tricky work with troff often needs to
insert a string of backslashes in a line&#8201;&#8212;&#8201;up to 64 of them in a row. The
count of backslashes must be exactly right or troff will choke.  How can he
get these strings exactly right without tedious counting and checking?</p></div>
<div class="paragraph"><p>Let&#8217;s say he needs to put 16 backslashes in line 217, right before the string
"n(PDu". What command(s) should he use to get them in there without hand
counting. My solution is pretty plain once you know which commands to use.</p></div>
<div class="paragraph"><p><a href="3_global_command_solutions.html#S3.2">Solution 3.2</a></p></div>
<div class="paragraph"><p><a id="E3.3"></a></p></div>
<div class="paragraph"><div class="title">Exercise 3.3 : Numbering Paragraphs</div><p>A documentation writer has divided each section of a document into paragraphs,
and as a troff user, marks the start of each paragraph by a line that contains
the macro ".pp" only. That is, a break between paragraphs looks like this:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>which is the only way that argon gas can be dissolved

in this liquid.

.pp

The problem of energizing the

 argon to fluorescence while

it is dissolved was first approached by applying a strong</pre>
</div></div>
<div class="paragraph"><p>How can this tech writer use the vim editor to number the paragraphs in each
section? (If this seems far-fetched to you, consider that I once got a phone
call from a Unix guru asking how to do just this.) To keep the problem simple,
let&#8217;s say that there are never more than 35 paragraphs in a section, and that
they should be numbered with Roman numerals.</p></div>
<div class="paragraph"><p>This problem is still difficult enough that I&#8217;m offering you two hints. The
first is that <span class="monospaced">:global</span> is essential here. Look at the second hint only if
you&#8217;re about to give up and check my solution.</p></div>
<div class="paragraph"><div class="title">Hint 2</div><p>My solution to this problem has an intermediate stage in which each macro is
followed by a string of capital I letters on the same line. The count of the
capital I letters on any macro line is equal to the paragraph number. That is,
the macro line for the fifth paragraph looks like this in the intermediate
stage:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>  .ppIIIII</pre>
</div></div>
<div class="paragraph"><p><a href="3_global_command_solutions.html#S3.3">Solution 3.3</a></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_coming_up_next">Coming Up Next</h2>
<div class="sectionbody">
<div class="paragraph"><p>In the <a href="4_substitute_command.html">next part</a> of this tutorial, I&#8217;ll cover
the less-known aspects of the other ex-mode commands for dealing with text and
files. If you&#8217;re a little overwhelmed with all that I&#8217;ve said about
<span class="monospaced">:global</span> you&#8217;ll be pleased to know that <span class="monospaced">:substitute</span> is notably simpler,
and all the remaining commands are very much simpler, than <span class="monospaced">:global</span>.</p></div>
<div class="paragraph"><p>After that, future parts of this tutorial will deal with normal mode; easier
and more fun than ex mode any day.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr></div>
<div id="footer">
<div id="footer-text">
Last updated 2014-02-01 18:10:12 CST
</div>
</div>
</body>
</html>
